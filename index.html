<script>
  document.getElementById('form-dati-anagrafici').addEventListener('submit', function(event) {
    event.preventDefault();

    const tipoCliente = document.getElementById('tipo-cliente').value;
    let data = {};

    if (tipoCliente === 'privato') {
      data = {
        tipoCliente: tipoCliente,
        nome: document.getElementById('nome').value,
        cognome: document.getElementById('cognome').value,
        dataNascita: document.getElementById('data-nascita').value,
        codiceFiscale: document.getElementById('codice-fiscale').value,
        indirizzo: document.getElementById('indirizzo').value,
        telefono: document.getElementById('telefono').value,
        email: document.getElementById('email').value,
      };
    } else if (tipoCliente === 'azienda') {
      data = {
        tipoCliente: tipoCliente,
        ragioneSociale: document.getElementById('ragione-sociale').value,
        partitaIVA: document.getElementById('partita-iva').value,
        indirizzoAzienda: document.getElementById('indirizzo-azienda').value,
        telefonoAzienda: document.getElementById('telefono-azienda').value,
        emailAzienda: document.getElementById('email-azienda').value,
        nomeReferente: document.getElementById('nome-referente').value,
        cognomeReferente: document.getElementById('cognome-referente').value,
      };
    }

    // Invia i dati all'API del server backend
    fetch('http://localhost:3000/invia-dati', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    })
    .then(response => response.json())
    .then(data => {
      console.log('Success:', data);
      alert('Dati inviati con successo! Codice univoco generato: ' + data.codiceUnivoco);
    })
    .catch((error) => {
      console.error('Error:', error);
      alert('Errore durante l\'invio dei dati.');
    });
  });
</script>
